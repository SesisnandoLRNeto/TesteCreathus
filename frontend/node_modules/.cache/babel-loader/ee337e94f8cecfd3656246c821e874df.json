{"ast":null,"code":"var _jsxFileName = \"/home/dev-nando/Desktop/Teste Creathus/frontend/src/pages/main/index.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FiArrowRight, FiArrowLeft } from 'react-icons/fi';\nimport api from '../../services/api';\nimport './styles.css';\nexport default class Main extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      details: [],\n      detailsInfo: {},\n      page: 1\n    };\n\n    this.prevPage = () => {\n      const {\n        page\n      } = this.state;\n      if (page === 1) return;\n      const pageNumber = page - 1;\n      this.loadDetails(pageNumber);\n    };\n\n    this.nextPage = () => {\n      const {\n        page,\n        detailsInfo\n      } = this.state;\n      if (page === detailsInfo.pages) return;\n      const pageNumber = page + 1;\n      this.loadDetails(pageNumber);\n    };\n\n    this.createDetails = async () => {\n      const response = await api.post('/projects', {\n        name: \"Novo Projeto\",\n        description: \"Solucao nova.\",\n        img: \"https://artia.com/wp-content/uploads/2015/04/Entenda-a-import%C3%A2ncia-da-declara%C3%A7%C3%A3o-do-escopo-para-o-sucesso-do-seu-projeto-696x364.jpg\",\n        url: \"https://creathus.org.br/contato/\"\n      });\n      return response;\n    };\n\n    this.loadDetails = async (page = 1) => {\n      const response = await api.get(`/projects?page=${page}`);\n      console.log(response);\n      const {\n        docs,\n        ...detailsInfo\n      } = response.data;\n      this.setState({\n        details: docs,\n        detailsInfo,\n        page\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.loadDetails();\n  }\n\n  render() {\n    const {\n      details,\n      page,\n      detailsInfo\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"details-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, details.map(detail => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"project-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: detail.img,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, detail.name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, detail.description), /*#__PURE__*/React.createElement(Link, {\n      className: \"buttons-div\",\n      to: `projects/${detail._id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }, \"Detalhes\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"actions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      disabled: page === 1,\n      onClick: this.prevPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(FiArrowLeft, {\n      size: 16,\n      color: \"white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 24\n      }\n    })), /*#__PURE__*/React.createElement(Link, {\n      className: \"button-cadastro\",\n      to: \"/register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }, \"Cadastro\"), /*#__PURE__*/React.createElement(\"button\", {\n      disabled: page === detailsInfo.pages,\n      onClick: this.nextPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(FiArrowRight, {\n      size: 16,\n      color: \"white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/home/dev-nando/Desktop/Teste Creathus/frontend/src/pages/main/index.js"],"names":["React","Component","Link","FiArrowRight","FiArrowLeft","api","Main","state","details","detailsInfo","page","prevPage","pageNumber","loadDetails","nextPage","pages","createDetails","response","post","name","description","img","url","get","console","log","docs","data","setState","componentDidMount","render","map","detail","_id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,YAAT,EAAuBC,WAAvB,QAA0C,gBAA1C;AAEA,OAAOC,GAAP,MAAgB,oBAAhB;AAEA,OAAO,cAAP;AAEA,eAAe,MAAMC,IAAN,SAAmBL,SAAnB,CAA6B;AAAA;AAAA;AAAA,SACxCM,KADwC,GAChC;AACLC,MAAAA,OAAO,EAAE,EADJ;AAELC,MAAAA,WAAW,EAAE,EAFR;AAGLC,MAAAA,IAAI,EAAE;AAHD,KADgC;;AAAA,SAWxCC,QAXwC,GAW7B,MAAM;AAEb,YAAM;AAAED,QAAAA;AAAF,UAAW,KAAKH,KAAtB;AAEA,UAAGG,IAAI,KAAK,CAAZ,EAAe;AAEf,YAAME,UAAU,GAAGF,IAAI,GAAG,CAA1B;AAEA,WAAKG,WAAL,CAAiBD,UAAjB;AAEH,KArBuC;;AAAA,SAuBxCE,QAvBwC,GAuB7B,MAAM;AACb,YAAM;AAAEJ,QAAAA,IAAF;AAAQD,QAAAA;AAAR,UAAwB,KAAKF,KAAnC;AAEA,UAAGG,IAAI,KAAKD,WAAW,CAACM,KAAxB,EAA+B;AAE/B,YAAMH,UAAU,GAAGF,IAAI,GAAG,CAA1B;AAEA,WAAKG,WAAL,CAAiBD,UAAjB;AAEH,KAhCuC;;AAAA,SAkCxCI,aAlCwC,GAkCxB,YAAY;AAExB,YAAMC,QAAQ,GAAG,MAAMZ,GAAG,CAACa,IAAJ,CAAS,WAAT,EAAsB;AACzCC,QAAAA,IAAI,EAAC,cADoC;AAEzCC,QAAAA,WAAW,EAAE,eAF4B;AAGzCC,QAAAA,GAAG,EAAE,qJAHoC;AAIzCC,QAAAA,GAAG,EAAE;AAJoC,OAAtB,CAAvB;AAOA,aAAOL,QAAP;AAEH,KA7CuC;;AAAA,SA+CxCJ,WA/CwC,GA+C1B,OAAOH,IAAI,GAAG,CAAd,KAAoB;AAC9B,YAAMO,QAAQ,GAAG,MAAMZ,GAAG,CAACkB,GAAJ,CAAS,kBAAiBb,IAAK,EAA/B,CAAvB;AAEAc,MAAAA,OAAO,CAACC,GAAR,CAAYR,QAAZ;AAEA,YAAM;AAAES,QAAAA,IAAF;AAAQ,WAAGjB;AAAX,UAA2BQ,QAAQ,CAACU,IAA1C;AAED,WAAKC,QAAL,CAAc;AAAEpB,QAAAA,OAAO,EAAEkB,IAAX;AAAiBjB,QAAAA,WAAjB;AAA8BC,QAAAA;AAA9B,OAAd;AAEF,KAxDuC;AAAA;;AAOxCmB,EAAAA,iBAAiB,GAAE;AACf,SAAKhB,WAAL;AACH;;AAiDDiB,EAAAA,MAAM,GAAE;AACJ,UAAM;AAAEtB,MAAAA,OAAF;AAAWE,MAAAA,IAAX;AAAiBD,MAAAA;AAAjB,QAAiC,KAAKF,KAA5C;AAEA,wBAEI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACCC,OAAO,CAACuB,GAAR,CAAYC,MAAM,iBACnB;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,GAAG,EAAEA,MAAM,CAACX,GAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAASW,MAAM,CAACb,IAAhB,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIa,MAAM,CAACZ,WAAX,CAHJ,eAII,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,aAAhB;AAA8B,MAAA,EAAE,EAAG,YAAWY,MAAM,CAACC,GAAI,EAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJJ,CADC,CADD,eAWI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AACA,MAAA,QAAQ,EAAEvB,IAAI,KAAK,CADnB;AAEA,MAAA,OAAO,EAAE,KAAKC,QAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGG,oBAAC,WAAD;AAAa,MAAA,IAAI,EAAE,EAAnB;AAAuB,MAAA,KAAK,EAAC,OAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHH,CADJ,eAMI,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,iBAAhB;AAAkC,MAAA,EAAE,EAAC,WAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANJ,eASI;AACA,MAAA,QAAQ,EAAED,IAAI,KAAKD,WAAW,CAACM,KAD/B;AAEA,MAAA,OAAO,EAAE,KAAKD,QAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGI,oBAAC,YAAD;AAAc,MAAA,IAAI,EAAE,EAApB;AAAwB,MAAA,KAAK,EAAC,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,CATJ,CAXJ,CAFJ;AA8BH;;AA3FuC","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { FiArrowRight, FiArrowLeft } from 'react-icons/fi'\n\nimport api from '../../services/api'\n\nimport './styles.css'\n\nexport default class Main extends Component {\n    state = {\n       details: [],\n       detailsInfo: {},\n       page: 1\n   }\n\n    componentDidMount(){\n        this.loadDetails()\n    }\n\n    prevPage = () => {\n        \n        const { page } = this.state\n\n        if(page === 1) return\n\n        const pageNumber = page - 1\n\n        this.loadDetails(pageNumber)\n\n    }\n\n    nextPage = () => {\n        const { page, detailsInfo } = this.state\n\n        if(page === detailsInfo.pages) return \n\n        const pageNumber = page + 1\n\n        this.loadDetails(pageNumber)\n\n    }\n\n    createDetails = async () => {\n\n        const response = await api.post('/projects', {\n            name:\"Novo Projeto\",\n            description: \"Solucao nova.\",\n            img: \"https://artia.com/wp-content/uploads/2015/04/Entenda-a-import%C3%A2ncia-da-declara%C3%A7%C3%A3o-do-escopo-para-o-sucesso-do-seu-projeto-696x364.jpg\",\n            url: \"https://creathus.org.br/contato/\"\n        })\n\n        return response\n\n    }\n\n    loadDetails = async (page = 1) => { \n        const response = await api.get(`/projects?page=${page}`) \n\n        console.log(response)\n       \n        const { docs, ...detailsInfo } = response.data;\n\n       this.setState({ details: docs, detailsInfo, page })\n\n    }\n\n    render(){\n        const { details, page, detailsInfo } = this.state\n\n        return(\n           \n            <div className='details-list'>\n            {details.map(detail =>(\n            <div className='project-div'>\n                <img src={detail.img}/> \n                <strong>{detail.name}</strong>\n                <p>{detail.description}</p>\n                <Link className='buttons-div' to={`projects/${detail._id}`}>\n                    Detalhes\n                </Link> \n            </div>\n                    ))}\n                <div className='actions'>\n                    <button \n                    disabled={page === 1} \n                    onClick={this.prevPage}>\n                       <FiArrowLeft size={16} color=\"white\"/>\n                    </button>\n                    <Link className=\"button-cadastro\" to='/register'>\n                        Cadastro\n                    </Link> \n                    <button \n                    disabled={page === detailsInfo.pages} \n                    onClick={this.nextPage}>\n                        <FiArrowRight size={16} color=\"white\"/>\n                    </button>\n                </div>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}