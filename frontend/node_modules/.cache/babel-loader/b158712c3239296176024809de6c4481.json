{"ast":null,"code":"var _jsxFileName = \"/home/dev-nando/Desktop/Teste Creathus/creathus/src/pages/main/index.js\";\nimport React, { Component } from 'react';\nimport api from '../../services/api';\nimport { Link } from 'react-router-dom';\nimport './styles.css';\nexport default class Main extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      details: [],\n      detailsInfo: {},\n      page: 1\n    };\n\n    this.prevPage = () => {\n      const {\n        page\n      } = this.state;\n      if (page === 1) return;\n      const pageNumber = page - 1;\n      this.loadDetails(pageNumber);\n    };\n\n    this.nextPage = () => {\n      const {\n        page,\n        detailsInfo\n      } = this.state;\n      if (page === detailsInfo.pages) return; //.pages eh o limite de paginas\n\n      const pageNumber = page + 1;\n      this.loadDetails(pageNumber);\n    };\n\n    this.createDetails = async () => {\n      const response = await api.post('/products', {\n        title: 'oi',\n        description: 'oi',\n        url: 'www'\n      });\n    };\n\n    this.loadDetails = async (page = 1) => {\n      const response = await api.get(`/products?page=${page}`);\n      console.log(response.data.info);\n      const {\n        docs,\n        ...detailsInfo\n      } = response.data;\n      this.setState({\n        details: docs,\n        detailsInfo,\n        page\n      });\n    };\n  }\n\n  //exec assim que o componente e mostrado\n  componentDidMount() {\n    this.loadDetails();\n  }\n\n  render() {\n    const {\n      details,\n      detailsInfo,\n      page\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    })\n    /*{ <div className='details-list'>\n        {details.map(detail =>(\n            <article key={detail._id}>\n                <strong>{detail.title}</strong>\n                <p>{detail.description}</p>\n                 <Link to={`products/${detail._id}`}>Acessar</Link>\n            </article>\n        ))}\n        <div className='actions'>\n            <button \n            disabled={page === 1} \n            onClick={this.prevPage}>\n                Back</button>\n            <button \n            onClick={this.createDetails}>\n                Add</button>\n            <button \n            disabled={page === detailsInfo.pages} \n            onClick={this.nextPage}>\n                Next</button>\n        </div>\n    </div> }*/\n    ;\n  }\n\n}","map":{"version":3,"sources":["/home/dev-nando/Desktop/Teste Creathus/creathus/src/pages/main/index.js"],"names":["React","Component","api","Link","Main","state","details","detailsInfo","page","prevPage","pageNumber","loadDetails","nextPage","pages","createDetails","response","post","title","description","url","get","console","log","data","info","docs","setState","componentDidMount","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,GAAP,MAAgB,oBAAhB;AACA,SAASC,IAAT,QAAqB,kBAArB;AAEA,OAAO,cAAP;AAEA,eAAe,MAAMC,IAAN,SAAmBH,SAAnB,CAA6B;AAAA;AAAA;AAAA,SAExCI,KAFwC,GAEhC;AACLC,MAAAA,OAAO,EAAE,EADJ;AAELC,MAAAA,WAAW,EAAE,EAFR;AAGLC,MAAAA,IAAI,EAAE;AAHD,KAFgC;;AAAA,SAaxCC,QAbwC,GAa7B,MAAM;AAEb,YAAM;AAAED,QAAAA;AAAF,UAAW,KAAKH,KAAtB;AAEA,UAAGG,IAAI,KAAK,CAAZ,EAAe;AAEf,YAAME,UAAU,GAAGF,IAAI,GAAG,CAA1B;AAEA,WAAKG,WAAL,CAAiBD,UAAjB;AAEH,KAvBuC;;AAAA,SAyBxCE,QAzBwC,GAyB7B,MAAM;AACb,YAAM;AAAEJ,QAAAA,IAAF;AAAQD,QAAAA;AAAR,UAAwB,KAAKF,KAAnC;AAEA,UAAGG,IAAI,KAAKD,WAAW,CAACM,KAAxB,EAA+B,OAHlB,CAGyB;;AAEtC,YAAMH,UAAU,GAAGF,IAAI,GAAG,CAA1B;AAEA,WAAKG,WAAL,CAAiBD,UAAjB;AAEH,KAlCuC;;AAAA,SAoCxCI,aApCwC,GAoCxB,YAAY;AAExB,YAAMC,QAAQ,GAAG,MAAMb,GAAG,CAACc,IAAJ,CAAS,WAAT,EAAsB;AAACC,QAAAA,KAAK,EAAE,IAAR;AAAcC,QAAAA,WAAW,EAAE,IAA3B;AAAiCC,QAAAA,GAAG,EAAE;AAAtC,OAAtB,CAAvB;AAEH,KAxCuC;;AAAA,SA0CxCR,WA1CwC,GA0C1B,OAAOH,IAAI,GAAG,CAAd,KAAoB;AAC9B,YAAMO,QAAQ,GAAG,MAAMb,GAAG,CAACkB,GAAJ,CAAS,kBAAiBZ,IAAK,EAA/B,CAAvB;AAEAa,MAAAA,OAAO,CAACC,GAAR,CAAYP,QAAQ,CAACQ,IAAT,CAAcC,IAA1B;AAEA,YAAM;AAAEC,QAAAA,IAAF;AAAQ,WAAGlB;AAAX,UAA0BQ,QAAQ,CAACQ,IAAzC;AAED,WAAKG,QAAL,CAAc;AAAEpB,QAAAA,OAAO,EAAEmB,IAAX;AAAiBlB,QAAAA,WAAjB;AAA8BC,QAAAA;AAA9B,OAAd;AACF,KAlDuC;AAAA;;AAQxC;AACAmB,EAAAA,iBAAiB,GAAE;AACf,SAAKhB,WAAL;AACH;;AAyCDiB,EAAAA,MAAM,GAAE;AACJ,UAAM;AAAEtB,MAAAA,OAAF;AAAWC,MAAAA,WAAX;AAAwBC,MAAAA;AAAxB,QAAiC,KAAKH,KAA5C;AAEA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;AAFJ;AA0BH;;AAjFuC","sourcesContent":["import React, { Component } from 'react'\nimport api from '../../services/api'\nimport { Link } from 'react-router-dom'\n\nimport './styles.css'\n\nexport default class Main extends Component {\n   //variaveis de estado que ouve alteracoes\n    state = {\n       details: [],\n       detailsInfo: {},\n       page: 1\n   }\n\n    //exec assim que o componente e mostrado\n    componentDidMount(){\n        this.loadDetails()\n    }\n\n    prevPage = () => {\n        \n        const { page } = this.state\n\n        if(page === 1) return\n\n        const pageNumber = page - 1\n\n        this.loadDetails(pageNumber)\n\n    }\n\n    nextPage = () => {\n        const { page, detailsInfo } = this.state\n\n        if(page === detailsInfo.pages) return //.pages eh o limite de paginas\n\n        const pageNumber = page + 1\n\n        this.loadDetails(pageNumber)\n\n    }\n\n    createDetails = async () => {\n\n        const response = await api.post('/products', {title: 'oi', description: 'oi', url: 'www'})\n\n    }\n\n    loadDetails = async (page = 1) => { \n        const response = await api.get(`/products?page=${page}`)\n\n        console.log(response.data.info)\n       \n        const { docs, ...detailsInfo} = response.data;\n\n       this.setState({ details: docs, detailsInfo, page })\n    }\n\n    render(){\n        const { details, detailsInfo, page } = this.state\n       \n        return(\n            <div></div>\n            /*{ <div className='details-list'>\n                {details.map(detail =>(\n                    <article key={detail._id}>\n                        <strong>{detail.title}</strong>\n                        <p>{detail.description}</p>\n\n                        <Link to={`products/${detail._id}`}>Acessar</Link>\n                    </article>\n                ))}\n                <div className='actions'>\n                    <button \n                    disabled={page === 1} \n                    onClick={this.prevPage}>\n                        Back</button>\n                    <button \n                    onClick={this.createDetails}>\n                        Add</button>\n                    <button \n                    disabled={page === detailsInfo.pages} \n                    onClick={this.nextPage}>\n                        Next</button>\n                </div>\n            </div> }*/\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}