{"ast":null,"code":"var _jsxFileName = \"/home/dev-nando/Desktop/Teste Creathus/frontend/src/pages/main/index.js\";\nimport React, { Component } from 'react';\nimport api from '../../services/api';\nimport { Link } from 'react-router-dom';\nimport './styles.css';\nexport default class Main extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      details: [],\n      detailsInfo: {},\n      page: 1\n    };\n\n    this.prevPage = () => {\n      const {\n        page\n      } = this.state;\n      if (page === 1) return;\n      const pageNumber = page - 1;\n      this.loadDetails(pageNumber);\n    };\n\n    this.nextPage = () => {\n      const {\n        page,\n        detailsInfo\n      } = this.state;\n      if (page === detailsInfo.pages) return; //.pages eh o limite de paginas\n\n      const pageNumber = page + 1;\n      this.loadDetails(pageNumber);\n    };\n\n    this.createDetails = async () => {\n      const response = await api.post('/', {\n        name: \"Novo projeto2\",\n        description: \"Projeto voltado a TI\",\n        img: \"https://blog.cedrotech.com/wp-content/uploads/2016/01/quais-as-metricas-utilizadas-para-viabilizar-um-projeto-de-ti.jpg\",\n        url: \"www.google.com.br\"\n      });\n    };\n\n    this.loadDetails = async (page = 1) => {\n      const response = await api.get('/projects'); //`/projects?page=${page}`\n\n      console.log(response);\n      const {\n        docs,\n        ...detailsInfo\n      } = response.data;\n      this.setState({\n        details: docs,\n        detailsInfo,\n        page\n      });\n    };\n  }\n\n  //exec assim que o componente e mostrado\n  componentDidMount() {\n    this.loadDetails();\n  }\n\n  render() {\n    const {\n      details,\n      page,\n      detailsInfo\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"details-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 14\n      }\n    }, details.map(detail => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: detail.img,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 24\n      }\n    }), /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }, detail.name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }\n    }, detail.description), /*#__PURE__*/React.createElement(\"a\", {\n      href: detail.url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }\n    }, \"Link\"), /*#__PURE__*/React.createElement(Link, {\n      to: `projects/${detail._id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"actions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      disabled: page === 1,\n      onClick: this.prevPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, \"Back\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.createDetails,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, \"Add\"), /*#__PURE__*/React.createElement(\"button\", {\n      disabled: page === detailsInfo.pages,\n      onClick: this.nextPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }, \"Next\")));\n  }\n\n}","map":{"version":3,"sources":["/home/dev-nando/Desktop/Teste Creathus/frontend/src/pages/main/index.js"],"names":["React","Component","api","Link","Main","state","details","detailsInfo","page","prevPage","pageNumber","loadDetails","nextPage","pages","createDetails","response","post","name","description","img","url","get","console","log","docs","data","setState","componentDidMount","render","map","detail","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport api from '../../services/api'\nimport { Link } from 'react-router-dom'\n\nimport './styles.css'\n\nexport default class Main extends Component {\n   //variaveis de estado que ouve alteracoes\n    state = {\n       details: [],\n       detailsInfo: {},\n       page: 1\n   }\n\n    //exec assim que o componente e mostrado\n    componentDidMount(){\n        this.loadDetails()\n    }\n\n    prevPage = () => {\n        \n        const { page } = this.state\n\n        if(page === 1) return\n\n        const pageNumber = page - 1\n\n        this.loadDetails(pageNumber)\n\n    }\n\n    nextPage = () => {\n        const { page, detailsInfo } = this.state\n\n        if(page === detailsInfo.pages) return //.pages eh o limite de paginas\n\n        const pageNumber = page + 1\n\n        this.loadDetails(pageNumber)\n\n    }\n\n    createDetails = async () => {\n\n        const response = await api.post('/', {\n            name: \"Novo projeto2\",\n            description:\"Projeto voltado a TI\",\n            img: \"https://blog.cedrotech.com/wp-content/uploads/2016/01/quais-as-metricas-utilizadas-para-viabilizar-um-projeto-de-ti.jpg\",\n            url: \"www.google.com.br\"\n        })\n\n    }\n\n    loadDetails = async (page = 1) => { \n        const response = await api.get('/projects') //`/projects?page=${page}`\n\n        console.log(response)\n       \n        const { docs, ...detailsInfo } = response.data;\n\n       this.setState({ details: docs, detailsInfo, page })\n\n    }\n\n    render(){\n        const { details, page, detailsInfo } = this.state\n\n        return(\n           \n             <div className='details-list'>\n                   {details.map(detail =>(\n                   <div>\n                      \n                       <img src={detail.img}/> \n                        <strong>{detail.name}</strong>\n                        <p>{detail.description}</p>\n                        <a href={detail.url}>Link</a>\n                        <Link to={`projects/${detail._id}`}></Link> \n                    </div>\n                    ))}\n                <div className='actions'>\n                    <button \n                    disabled={page === 1} \n                    onClick={this.prevPage}>\n                        Back</button>\n                    <button \n                    onClick={this.createDetails}>\n                        Add</button>\n                    <button \n                    disabled={page === detailsInfo.pages} \n                    onClick={this.nextPage}>\n                        Next</button>\n                </div>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}